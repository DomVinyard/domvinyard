
head
  script(src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js")
  script(src="//use.edgefonts.net/passion-one.js")
  link(href="/resources/prism.css" rel="stylesheet")
  script(src="/resources/prism.js")
  script(src="/resources/scrollControl.js")
  script(src="/resources/jquery.lettering-0.6.1.min.js")
  script(src="public.coffee")

  meta(name="viewport" content="width=device-width, user-scalable=no")
  style #[include:stylus public.stylus]
  script #[include:coffee-script public.coffee]
  title Dom Vinyard
  
body
  .images
  header
    .image
    h1 DOM VINYARD
    h4 Designer, Developer
  article
    section
      p Hi, I'm Dom. I build stuff in node.js. I'm a proponent of minimalist design.
      p
        a(href='http://driver.plus' target='_blank') driver.plus
        a  helps identify fraud
      p 
        a(href='http://zerotoeleven.com' target='_blank') zero-eleven
        a  is a new way to weather
      p
        a(href='http://skimd.it' target='_blank') skimd.it
        a  is an ï£¿Watch reddit client
      p
        a(href='http://noBillionair.es' target='_blank') no Billionaires
        a  is a thought experiment
      p
        a(href='http://outside.lol' target='_blank') outside.lol
        a  is a weather robot
      p.recursive And I have an uneasy feeling that I've told you all of this before.
      p 
  article.start
    h4 WATCH ME CODE THIS SITE
  footer
    a(href="mailto:domvinyard@me.com")
      img(src="resources/icons/mail.png")
    a(href="https://twitter.com/_DomVinyard")
      img(src="resources/icons/twitter.png")
  .demo
    pre.init
      code(class="language-coffeescript")
        |# HELLO WORLD
        | 
        |# fire up a node server
        |app = require('express')()
        |app.listen(process.env.PORT)
        |app.use(express.static 'public')
        |app.set('views', './public')
        |app.set('view engine', 'jade')
        |app.get '/', (req, res) ->
        |  res.render('public')
        | 
        |# Preload the images
        |do preload = (frame = 1) ->
        |   if frame < total_frames
        |     img = new Image()
        |     img.src = "/resources/dom/#{frame}.jpg"
        |     img.onload = ->
        |       preload frame + 1
      code(class="language-jade")
        |  
        |  
        |//- Client. Import jQuery
        |script(src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js")
        | 
    pre.header
      code(class="language-jade")
        |//- HEADER
        | 
        |//- Build template 
        |header 
        |  img(src="/resources/dom/1.jpg")
        |  h1 DOM VINYARD
        |  h4 Designer, Developer
        | 
      code(class="language-stylus")
        | 
        |// Apply styling
        |header
        |  margin 0 auto 68px auto
        |  text-align right
        |  img
        |    width 360px
        |    height 480px
        |  h1
        |    font-size 2.2em
        |    margin 10px 0 2px 0
        |    line-height: 0.5em
        |  h4
        |    letter-spacing 2px
        |    margin 1px 0 0 0
        |    font-size 1.1em
        
    pre.font
      code(class="language-jade")
        |//- CUSTOM FONT
        | 
        |//- Import
        |script(src="//use.edgefonts.net/passion-one.js")
        | 
      code(class="language-stylus")
        | 
        |//- Apply styling
        |h1
        |  font-family passion-one
        |h4
        |  font-family "Gill Sans MT"
        
    pre.scroll
      code(class="language-coffeescript")
        |# IMAGE CHANGE ON SCROLL
        |  
        |# Set the framerate
        |total_frames = 37
        |px_per_frame = 9
        | 
        |# Look for scrolling
        |$(window).scroll ->
        |   scroll_height = $(window).scrollTop()
        |   frame = scroll_height / px_per_frame
        |  
        |   # Every 9px down is a new frame
        |   frame = Math.max 1, Math.ceil frame
        |   frame = Math.min total_frames, frame
        |   image = '/resources/dom/'+frame+'.jpg'
        | 
        |   # Set the image
        |   $('header img').attr 'src': image 
        
    pre.body
      code(class="language-jade")
        |//- PAGE CONTENT
        | 
        |//- Main Text
        |article
        |  section <main_text>
        | 
        |//- Button to start demo
        |article.start
        |  h4 WATCH ME CODE THIS SITE
        | 
      code(class="language-stylus")
        | 
        |// Apply styling
        |article
        |   color #222
        |   padding 16px 32px
        |   margin 12px 0
        |   background #eee
        |.start
        |   padding 16px 0
        |   background #222
        |   color white
        |   font-weight bold
        |   font-family: passion-one
        |   text-align center
        |   font-size 1.4em

        
    pre.demo_code
      code(class="language-coffeescript")
        |# MAKE THE BUTTON WORK
        |# (getting a bit meta)
        | 
        |# User clicks the button
        |$('.start').click ->
        |  demo.start ->
        |    demo.images $('.init'), ->
        |      demo.header $('.header'), ->
        |        demo.font $('.font'), ->
        |          demo.animation $('.scroll'), ->
        |            demo.body $('.body'), ->
        |              demo.button $('.code'), ->
        |                demo.footer $('.foot'), ->
        |                  demo.end()
      code(class="language-jade")
        | 
        |  
        |//- Prism makes code look pretty
        |link(href="/resources/prism.css" rel="stylesheet")
        |script(src="/resources/prism.js")
      
              
    pre.footer
      code(class="language-jade")
        |//- BUILD THE FOOTER
        | 
        |//- Template
        |footer
        |  a(href="mailto:domvinyard@me.com")
        |    img(src="resources/icons/mail.png")
        |  a(href="https://twitter.com/_DomVinyard")
        |    img(src="resources/icons/twitter.png")
